{"version":3,"sources":["../src/options.js","../src/constants.js","../src/create-element.js","../src/component.js","../src/render.js","../src/create-context.js","../src/util.js","../src/diff/children.js","../src/diff/props.js","../src/diff/index.js","../src/clone-element.js","../src/diff/catch-error.js","../src/devtools.js","../src/debug.js","../src/check-props.js","../src/component-stack.js","../src/index.js","../src/PureComponent.js","../src/memo.js","../src/forwardRef.js","../src/Children.js","../src/suspense.js","../src/suspense-list.js","../src/portals.js","../src/events.js","../../node_modules/react-use/lib/util.js","../../node_modules/react-use/lib/useEvent.js","../../node_modules/nano-css/index.js","../../node_modules/nano-css/addon/rule.js","../../node_modules/nano-css/addon/cache.js","../../node_modules/nano-css/addon/hydrate.js","../../node_modules/nano-css/addon/nesting.js","nano.ts","../wasm/PicoSignal.ts","../wasm/index.ts","../wasm/react.tsx","../../node_modules/classnames/index.js","Display.tsx","smalldash.ts","promise.ts","../roms/index.ts","../roms/debug/blargg/index.ts","../roms/debug/index.ts","CartSelect.tsx","Controller.tsx","data.ts","../../node_modules/parcel-bundler/src/builtins/bundle-url.js","../../node_modules/parcel-bundler/src/builtins/bundle-loader.js","logo.svg","App.tsx","Toaster.tsx","Page.tsx","index.tsx","../../node_modules/parcel-bundler/src/builtins/loaders/browser/wasm-loader.js","../../node_modules/parcel-bundler/src/builtins/loaders/browser/js-loader.js"],"names":["options","isValidElement","rerenderQueue","rerenderCount","defer","prevDebounce","IS_HYDRATE","i","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","normalizedProps","arguments","length","push","defaultProps","createVNode","key","ref","original","vnode","_children","_parent","_depth","_dom","_nextDom","_component","constructor","_original","createRef","Fragment","Component","context","getDomSibling","childIndex","indexOf","sibling","updateParentDomPointers","child","base","enqueueRender","c","_dirty","debounceRendering","process","queue","sort","a","b","_vnode","some","component","commitQueue","oldVNode","newDom","oldDom","parentDom","_parentDom","diff","_globalContext","ownerSVGElement","commitRoot","diffChildren","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","sibDom","firstChildDom","refs","oldChildren","oldChildrenLength","toChildArray","childVNode","undefined","nextDom","outer","appendChild","nextSibling","insertBefore","value","unmount","applyRef","callback","flattened","Array","isArray","diffProps","dom","newProps","oldProps","hydrate","setProperty","setStyle","style","test","name","oldValue","s","useCapture","nameLower","cssText","replace","toLowerCase","slice","addEventListener","eventProxy","_listeners","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","e","event","newVNode","tmp","isNew","oldState","snapshot","clearProcessingException","provider","componentContext","newType","_diff","contextType","_id","_defaultValue","_processingException","_pendingError","prototype","render","doRender","sub","state","_renderCallbacks","_nextState","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","_force","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","_render","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","_catchError","root","_commit","cb","call","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","current","parentVNode","skipRemove","r","componentWillUnmount","this","replaceNode","_root","cloneElement","createContext","defaultValue","ctx","Consumer","Provider","subs","_this","_props","old","splice","_contextRef","error","hasCaught","getDerivedStateFromError","setState","componentDidCatch","update","forceUpdate","Promise","then","bind","resolve","setTimeout","window","__PREACT_DEVTOOLS__","attachPreact","loggedTypeFailures","resetPropWarnings","getDisplayName","displayName","renderStack","ownerStack","getCurrentVNode","hasBabelPlugin","isPossibleOwner","getOwnerStack","stack","next","_owner","reduce","acc","owner","source","__source","fileName","lineNumber","console","warn","isWeakMapSupported","WeakMap","serializeVNode","attrs","prop","hasOwnProperty","Object","toString","JSON","stringify","oldDiff","oldDiffed","oldRoot","oldRender","pop","parent","oldBeforeDiff","oldVnode","oldCatchError","oldHook","_hook","warnedComponents","useEffect","useLayoutEffect","lazyPropTypes","promise","Error","_childDidSuspend","isValid","componentName","typeSpecs","values","getClosestDomNodeParent","propTypes","has","m","lazyVNode","set","keys","forEach","typeSpecName","message","comp","index","property","err","get","deprecatedAttributes","nodeName","deprecatedProto","create","v","__self","setPrototypeOf","join","__hooks","hooks","_list","hook","_factory","_args","currentIndex","currentComponent","prevRaf","currentHook","afterPaintEffects","oldBeforeRender","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","_pendingEffects","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","_value","action","nextValue","args","_skipEffects","argsChanged","useRef","initialValue","useMemo","useImperativeHandle","createHandle","concat","factory","useCallback","useContext","_context","useDebugValue","formatter","useErrorBoundary","errState","flushAfterPaintEffects","invokeCleanup","invokeEffect","_cleanup","result","oldArgs","newArgs","arg","f","requestAnimationFrame","raf","done","clearTimeout","timeout","cancelAnimationFrame","filter","shallowDiffers","PureComponent","isPureReactComponent","memo","comparer","shouldUpdate","nextProps","updateRef","Memoed","isReactComponent","_forwarded","oldDiffHook","forwardRef","fn","Forwarded","clone","mapFn","Children","map","count","only","toArray","detachedClone","Suspense","_pendingSuspensionCount","_suspenders","_detachOnNextRender","suspended","_suspended","lazy","loader","prom","Lazy","exports","default","SuspenseList","_next","_map","suspendingComponent","resolved","onResolved","onSuspensionComplete","_suspendedComponentWillUnmount","fallback","list","delete","revealOrder","size","delegated","unsuspend","wrappedUnsuspend","Map","reverse","ContextProvider","Portal","container","wrap","_container","_temp","_unmount","_wrap","_hasMounted","createPortal","CAMEL_PROPS","REACT_ELEMENT_TYPE","Symbol","for","firstChild","preactRender","preactHydrate","oldEventHook","setSafeDescriptor","proto","defineProperty","configurable","persist","stoppedPropagating","defaultPrevented","origStopPropagation","stopPropagation","origPreventDefault","preventDefault","isPropagationStopped","isDefaultPrevented","nativeEvent","classNameDescriptor","class","oldVNodeHook","$$typeof","className","enumerable","shouldSanitize","multiple","selected","ondoubleclick","ondblclick","onbeforeinput","onchange","normalized","oninput","_patchedLifecycles","version","createFactory","element","preactCloneElement","apply","unmountComponentAtNode","findDOMNode","unstable_batchedUpdates","KEBAB_REGEX","hash","str","charCodeAt","config","client","renderer","raw","pfx","kebab","decl","selector","putRaw","rawCssRule","sh","head","sheet","insertRule","cssRules","put","decls","atrule","postponed","putAt","addon","rule","css","block","hydrated","selectorText","bundleURL","getBundleURLCached","getBundleURL","matches","match","getBaseURL","url","require","loadBundlesLazy","bundles","id","code","LazyPromise","reject","loadBundles","all","loadBundle","bundleLoaders","registerBundleLoader","module","load","register","bundle","substring","lastIndexOf","bundleLoader","catch","executor","onSuccess","onError","SvgLogo","_extends","target","_ref","React","fill","d","width","height","viewBox","fetch","res","WebAssembly","instantiateStreaming","arrayBuffer","instantiate","wasmModule","instance","script","async","charset","src","onerror","onload","getElementsByTagName"],"mappings":"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","file":"web.ad7ffc68.js","sourceRoot":"../src/web","sourcesContent":["import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n","import options from './options';\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\ti;\n\tfor (i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(\n\t\ttype,\n\t\tnormalizedProps,\n\t\tprops && props.key,\n\t\tprops && props.ref,\n\t\tnull\n\t);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined,\n\t\t_original: original\n\t};\n\n\tif (original == null) vnode._original = vnode;\n\tif (options.vnode) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn {};\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\tupdate = update(s, this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = oldVNode;\n\n\t\tlet newDom = diff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tnull,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\nlet rerenderCount = 0;\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\nconst IS_HYDRATE = EMPTY_OBJ;\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we\n\t// are in hydration mode or not by passing `IS_HYDRATE` instead of a\n\t// DOM element.\n\tlet isHydrating = replaceNode === IS_HYDRATE;\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\t((isHydrating ? parentDom : replaceNode || parentDom)._children = vnode),\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode && !isHydrating\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: EMPTY_ARR.slice.call(parentDom.childNodes),\n\t\tcommitQueue,\n\t\treplaceNode || EMPTY_OBJ,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, IS_HYDRATE);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tconst ctx = {};\n\n\tconst context = {\n\t\t_id: '__cC' + i++,\n\t\t_defaultValue: defaultValue,\n\t\tConsumer(props, context) {\n\t\t\treturn props.children(context);\n\t\t},\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tconst subs = [];\n\t\t\t\tthis.getChildContext = () => {\n\t\t\t\t\tctx[context._id] = this;\n\t\t\t\t\treturn ctx;\n\t\t\t\t};\n\n\t\t\t\tthis.shouldComponentUpdate = _props => {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc.context = _props.value;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\told && old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\tcontext.Consumer.contextType = context;\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\tcontext.Provider._contextRef = context;\n\n\treturn context;\n}\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, newDom, sibDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t} else if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t} else {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\ti = 0;\n\tnewParentVNode._children = toChildArray(\n\t\tnewParentVNode._children,\n\t\tchildVNode => {\n\t\t\tif (childVNode != null) {\n\t\t\t\tchildVNode._parent = newParentVNode;\n\t\t\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t\t\t// Check if we find a corresponding element in oldChildren.\n\t\t\t\t// If found, delete the array item by setting to `undefined`.\n\t\t\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t\t\t// (holes).\n\t\t\t\toldVNode = oldChildren[i];\n\n\t\t\t\tif (\n\t\t\t\t\toldVNode === null ||\n\t\t\t\t\t(oldVNode &&\n\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t\t\t) {\n\t\t\t\t\toldChildren[i] = undefined;\n\t\t\t\t} else {\n\t\t\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t\t\t// We always match by type (in either case).\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\toldVNode &&\n\t\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\toldVNode = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\t\t\tnewDom = diff(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\tglobalContext,\n\t\t\t\t\tisSvg,\n\t\t\t\t\texcessDomChildren,\n\t\t\t\t\tcommitQueue,\n\t\t\t\t\toldDom,\n\t\t\t\t\tisHydrating\n\t\t\t\t);\n\n\t\t\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\t\t\tif (!refs) refs = [];\n\t\t\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t\t\t}\n\n\t\t\t\t// Only proceed if the vnode has not been unmounted by `diff()` above.\n\t\t\t\tif (newDom != null) {\n\t\t\t\t\tif (firstChildDom == null) {\n\t\t\t\t\t\tfirstChildDom = newDom;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nextDom;\n\t\t\t\t\tif (childVNode._nextDom !== undefined) {\n\t\t\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t\t\t\t\t// of last DOM child of this child VNode\n\t\t\t\t\t\tnextDom = childVNode._nextDom;\n\n\t\t\t\t\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t\t\t\t\t// can clean up the property\n\t\t\t\t\t\tchildVNode._nextDom = undefined;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\texcessDomChildren == oldVNode ||\n\t\t\t\t\t\tnewDom != oldDom ||\n\t\t\t\t\t\tnewDom.parentNode == null\n\t\t\t\t\t) {\n\t\t\t\t\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t\t\t\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t\t\t\t\t// The values only have the same type when `null`.\n\n\t\t\t\t\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\t\t\t\t\tparentDom.appendChild(newDom);\n\t\t\t\t\t\t\tnextDom = null;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\tsibDom = oldDom, j = 0;\n\t\t\t\t\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildrenLength;\n\t\t\t\t\t\t\t\tj += 2\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\t\t\t\t\tnextDom = oldDom;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t\t\t\t// there are probably some internal data structures that aren't\n\t\t\t\t\t\t// updated properly.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t\t\t\t// value check in `diff()` won't be skipped.\n\t\t\t\t\t\tif (newParentVNode.type == 'option') {\n\t\t\t\t\t\t\tparentDom.value = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t\t\t\t\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t\t\t\t\t// See more detail in create-element.js:createVNode\n\t\t\t\t\tif (nextDom !== undefined) {\n\t\t\t\t\t\toldDom = nextDom;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toldDom = newDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t\t\t// node's nextSibling.\n\n\t\t\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t\t\t}\n\t\t\t\t} else if (\n\t\t\t\t\toldDom &&\n\t\t\t\t\toldVNode._dom == oldDom &&\n\t\t\t\t\toldDom.parentNode != parentDom\n\t\t\t\t) {\n\t\t\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti++;\n\t\t\treturn childVNode;\n\t\t}\n\t);\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren != null && typeof newParentVNode.type != 'function') {\n\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) unmount(oldChildren[i], oldChildren[i]);\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @param {(vnode: import('../internal').VNode) => import('../internal').VNode} [callback]\n * A function to invoke for each child before it is added to the flattened list.\n * @param {Array<import('../internal').VNode | string | number>} [flattened] An flat array of children to modify\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, callback, flattened) {\n\tif (flattened == null) flattened = [];\n\n\tif (children == null || typeof children == 'boolean') {\n\t\tif (callback) flattened.push(callback(null));\n\t} else if (Array.isArray(children)) {\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\ttoChildArray(children[i], callback, flattened);\n\t\t}\n\t} else if (!callback) {\n\t\tflattened.push(children);\n\t} else if (typeof children == 'string' || typeof children == 'number') {\n\t\tflattened.push(callback(createVNode(null, children, null, null, children)));\n\t} else if (children._dom != null || children._component != null) {\n\t\tflattened.push(\n\t\t\tcallback(\n\t\t\t\tcreateVNode(\n\t\t\t\t\tchildren.type,\n\t\t\t\t\tchildren.props,\n\t\t\t\t\tchildren.key,\n\t\t\t\t\tnull,\n\t\t\t\t\tchildren._original\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t} else {\n\t\tflattened.push(callback(children));\n\t}\n\n\treturn flattened;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (\n\t\ttypeof value == 'number' &&\n\t\tIS_NON_DIMENSIONAL.test(key) === false\n\t) {\n\t\tstyle[key] = value + 'px';\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else {\n\t\tstyle[key] = value;\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet s, useCapture, nameLower;\n\n\tif (isSvg) {\n\t\tif (name === 'className') {\n\t\t\tname = 'class';\n\t\t}\n\t} else if (name === 'class') {\n\t\tname = 'className';\n\t}\n\n\tif (name === 'style') {\n\t\ts = dom.style;\n\n\t\tif (typeof value == 'string') {\n\t\t\ts.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\ts.cssText = '';\n\t\t\t\toldValue = null;\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (let i in oldValue) {\n\t\t\t\t\tif (!(value && i in value)) {\n\t\t\t\t\t\tsetStyle(s, i, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (let i in value) {\n\t\t\t\t\tif (!oldValue || value[i] !== oldValue[i]) {\n\t\t\t\t\t\tsetStyle(s, i, value[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tnameLower = name.toLowerCase();\n\t\tname = (nameLower in dom ? nameLower : name).slice(2);\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t\t(dom._listeners || (dom._listeners = {}))[name] = value;\n\t\t} else {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t} else if (\n\t\tname !== 'list' &&\n\t\tname !== 'tagName' &&\n\t\t// HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n\t\t// setAttribute\n\t\tname !== 'form' &&\n\t\tname !== 'type' &&\n\t\tname !== 'size' &&\n\t\t!isSvg &&\n\t\tname in dom\n\t) {\n\t\tdom[name] = value == null ? '' : value;\n\t} else if (typeof value != 'function' && name !== 'dangerouslySetInnerHTML') {\n\t\tif (name !== (name = name.replace(/^xlink:?/, ''))) {\n\t\t\tif (value == null || value === false) {\n\t\t\t\tdom.removeAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase()\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdom.setAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase(),\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (\n\t\t\tvalue == null ||\n\t\t\t(value === false &&\n\t\t\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t\t\t// The value `false` is different from the attribute not\n\t\t\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t\t\t// that other VDOM frameworks also always stringify `false`.\n\t\t\t\t!/^ar/.test(name))\n\t\t) {\n\t\t\tdom.removeAttribute(name);\n\t\t} else {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\t(newVNode._original === oldVNode._original && !c._processingException)\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (tmp = 0; tmp < newVNode._children.length; tmp++) {\n\t\t\t\t\t\tif (newVNode._children[tmp]) {\n\t\t\t\t\t\t\tnewVNode._children[tmp]._parent = newVNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\tnewVNode._children = isTopLevelFragment\n\t\t\t\t? tmp.props.children\n\t\t\t\t: Array.isArray(tmp)\n\t\t\t\t? tmp\n\t\t\t\t: [tmp];\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type === 'svg' || isSvg;\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild != null &&\n\t\t\t\t((newVNode.type === null\n\t\t\t\t\t? child.nodeType === 3\n\t\t\t\t\t: child.localName === newVNode.type) ||\n\t\t\t\t\tdom == child)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (newVNode.type === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = isSvg\n\t\t\t? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type)\n\t\t\t: document.createElement(\n\t\t\t\t\tnewVNode.type,\n\t\t\t\t\tnewProps.is && { is: newProps.is }\n\t\t\t  );\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (newVNode.type === null) {\n\t\tif (oldProps !== newProps && dom.data != newProps) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\tif (excessDomChildren != null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\tif (oldProps === EMPTY_OBJ) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html != oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tnewVNode._children = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnewVNode.type === 'foreignObject' ? false : isSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tEMPTY_OBJ,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\ti !== dom.value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type != 'function') {\n\t\tskipRemove = (dom = vnode._dom) != null;\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom != null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { assign } from './util';\nimport { EMPTY_ARR } from './constants';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./index').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props) {\n\tprops = assign(assign({}, vnode.props), props);\n\tif (arguments.length > 2) props.children = EMPTY_ARR.slice.call(arguments, 2);\n\tlet normalizedProps = {};\n\tfor (const i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tprops.key || vnode.key,\n\t\tprops.ref || vnode.ref,\n\t\tnull\n\t);\n}\n","import { enqueueRender } from '../component';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, hasCaught;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (\n\t\t\t\t\tcomponent.constructor &&\n\t\t\t\t\tcomponent.constructor.getDerivedStateFromError != null\n\t\t\t\t) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.setState(\n\t\t\t\t\t\tcomponent.constructor.getDerivedStateFromError(error)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\n\t\t\t\tif (hasCaught)\n\t\t\t\t\treturn enqueueRender((component._pendingError = component));\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","import { options, Fragment, Component } from 'preact';\n\nexport function initDevTools() {\n\tif (typeof window != 'undefined' && window.__PREACT_DEVTOOLS__) {\n\t\twindow.__PREACT_DEVTOOLS__.attachPreact('10.4.1', options, {\n\t\t\tFragment,\n\t\t\tComponent\n\t\t});\n\t}\n}\n","import { checkPropTypes } from './check-props';\nimport { options, Component } from 'preact';\nimport {\n\tELEMENT_NODE,\n\tDOCUMENT_NODE,\n\tDOCUMENT_FRAGMENT_NODE\n} from './constants';\nimport {\n\tgetOwnerStack,\n\tsetupComponentStack,\n\tgetCurrentVNode,\n\tgetDisplayName\n} from './component-stack';\n\nconst isWeakMapSupported = typeof WeakMap == 'function';\n\nfunction getClosestDomNodeParent(parent) {\n\tif (!parent) return {};\n\tif (typeof parent.type == 'function') {\n\t\treturn getClosestDomNodeParent(parent._parent);\n\t}\n\treturn parent;\n}\n\nexport function initDebug() {\n\tsetupComponentStack();\n\n\t/* eslint-disable no-console */\n\tlet oldBeforeDiff = options._diff;\n\tlet oldDiffed = options.diffed;\n\tlet oldVnode = options.vnode;\n\tlet oldCatchError = options._catchError;\n\tlet oldRoot = options._root;\n\tlet oldHook = options._hook;\n\tconst warnedComponents = !isWeakMapSupported\n\t\t? null\n\t\t: {\n\t\t\t\tuseEffect: new WeakMap(),\n\t\t\t\tuseLayoutEffect: new WeakMap(),\n\t\t\t\tlazyPropTypes: new WeakMap()\n\t\t  };\n\n\toptions._catchError = (error, vnode, oldVNode) => {\n\t\tlet component = vnode && vnode._component;\n\t\tif (component && typeof error.then == 'function') {\n\t\t\tconst promise = error;\n\t\t\terror = new Error(\n\t\t\t\t`Missing Suspense. The throwing component was: ${getDisplayName(vnode)}`\n\t\t\t);\n\n\t\t\tlet parent = vnode;\n\t\t\tfor (; parent; parent = parent._parent) {\n\t\t\t\tif (parent._component && parent._component._childDidSuspend) {\n\t\t\t\t\terror = promise;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// We haven't recovered and we know at this point that there is no\n\t\t\t// Suspense component higher up in the tree\n\t\t\tif (error instanceof Error) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\toldCatchError(error, vnode, oldVNode);\n\t};\n\n\toptions._root = (vnode, parentNode) => {\n\t\tif (!parentNode) {\n\t\t\tthrow new Error(\n\t\t\t\t'Undefined parent passed to render(), this is the second argument.\\n' +\n\t\t\t\t\t'Check if the element is available in the DOM/has the correct id.'\n\t\t\t);\n\t\t}\n\t\tlet isValid;\n\t\tswitch (parentNode.nodeType) {\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\tcase DOCUMENT_NODE:\n\t\t\t\tisValid = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tisValid = false;\n\t\t}\n\n\t\tif (!isValid) {\n\t\t\tlet componentName = getDisplayName(vnode);\n\t\t\tthrow new Error(\n\t\t\t\t`Expected a valid HTML node as a second argument to render.\tReceived ${parentNode} instead: render(<${componentName} />, ${parentNode});`\n\t\t\t);\n\t\t}\n\n\t\tif (oldRoot) oldRoot(vnode, parentNode);\n\t};\n\n\toptions._diff = vnode => {\n\t\tlet { type, _parent: parent } = vnode;\n\t\tlet parentVNode = getClosestDomNodeParent(parent);\n\n\t\tif (type === undefined) {\n\t\t\tthrow new Error(\n\t\t\t\t'Undefined component passed to createElement()\\n\\n' +\n\t\t\t\t\t'You likely forgot to export your component or might have mixed up default and named imports' +\n\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t);\n\t\t} else if (type != null && typeof type == 'object') {\n\t\t\tif (type._children !== undefined && type._dom !== undefined) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Invalid type passed to createElement(): ${type}\\n\\n` +\n\t\t\t\t\t\t'Did you accidentally pass a JSX literal as JSX twice?\\n\\n' +\n\t\t\t\t\t\t`  let My${getDisplayName(vnode)} = ${serializeVNode(type)};\\n` +\n\t\t\t\t\t\t`  let vnode = <My${getDisplayName(vnode)} />;\\n\\n` +\n\t\t\t\t\t\t'This usually happens when you export a JSX literal and not the component.' +\n\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tthrow new Error(\n\t\t\t\t'Invalid type passed to createElement(): ' +\n\t\t\t\t\t(Array.isArray(type) ? 'array' : type)\n\t\t\t);\n\t\t}\n\n\t\tif (\n\t\t\t(type === 'thead' || type === 'tfoot' || type === 'tbody') &&\n\t\t\tparentVNode.type !== 'table'\n\t\t) {\n\t\t\tconsole.error(\n\t\t\t\t'Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent.' +\n\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t);\n\t\t} else if (\n\t\t\ttype === 'tr' &&\n\t\t\tparentVNode.type !== 'thead' &&\n\t\t\tparentVNode.type !== 'tfoot' &&\n\t\t\tparentVNode.type !== 'tbody' &&\n\t\t\tparentVNode.type !== 'table'\n\t\t) {\n\t\t\tconsole.error(\n\t\t\t\t'Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent.' +\n\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t);\n\t\t} else if (type === 'td' && parentVNode.type !== 'tr') {\n\t\t\tconsole.error(\n\t\t\t\t'Improper nesting of table. Your <td> should have a <tr> parent.' +\n\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t);\n\t\t} else if (type === 'th' && parentVNode.type !== 'tr') {\n\t\t\tconsole.error(\n\t\t\t\t'Improper nesting of table. Your <th> should have a <tr>.' +\n\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t);\n\t\t}\n\n\t\tif (\n\t\t\tvnode.ref !== undefined &&\n\t\t\ttypeof vnode.ref != 'function' &&\n\t\t\ttypeof vnode.ref != 'object' &&\n\t\t\t!('$$typeof' in vnode) // allow string refs when preact-compat is installed\n\t\t) {\n\t\t\tthrow new Error(\n\t\t\t\t`Component's \"ref\" property should be a function, or an object created ` +\n\t\t\t\t\t`by createRef(), but got [${typeof vnode.ref}] instead\\n` +\n\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t);\n\t\t}\n\n\t\tif (typeof vnode.type == 'string') {\n\t\t\tfor (const key in vnode.props) {\n\t\t\t\tif (\n\t\t\t\t\tkey[0] === 'o' &&\n\t\t\t\t\tkey[1] === 'n' &&\n\t\t\t\t\ttypeof vnode.props[key] != 'function' &&\n\t\t\t\t\tvnode.props[key] != null\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Component's \"${key}\" property should be a function, ` +\n\t\t\t\t\t\t\t`but got [${typeof vnode.props[key]}] instead\\n` +\n\t\t\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Check prop-types if available\n\t\tif (typeof vnode.type == 'function' && vnode.type.propTypes) {\n\t\t\tif (\n\t\t\t\tvnode.type.displayName === 'Lazy' &&\n\t\t\t\twarnedComponents &&\n\t\t\t\t!warnedComponents.lazyPropTypes.has(vnode.type)\n\t\t\t) {\n\t\t\t\tconst m =\n\t\t\t\t\t'PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ';\n\t\t\t\ttry {\n\t\t\t\t\tconst lazyVNode = vnode.type();\n\t\t\t\t\twarnedComponents.lazyPropTypes.set(vnode.type, true);\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\tm + `Component wrapped in lazy() is ${getDisplayName(lazyVNode)}`\n\t\t\t\t\t);\n\t\t\t\t} catch (promise) {\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\tm + \"We will log the wrapped component's name once it is loaded.\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcheckPropTypes(\n\t\t\t\tvnode.type.propTypes,\n\t\t\t\tvnode.props,\n\t\t\t\t'prop',\n\t\t\t\tgetDisplayName(vnode)\n\t\t\t);\n\t\t}\n\n\t\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n\t};\n\n\toptions._hook = (comp, index, type) => {\n\t\tif (!comp) {\n\t\t\tthrow new Error('Hook can only be invoked from render methods.');\n\t\t}\n\n\t\tif (oldHook) oldHook(comp, index, type);\n\t};\n\n\tconst warn = (property, err) => ({\n\t\tget() {\n\t\t\tconsole.warn(`getting vnode.${property} is deprecated, ${err}`);\n\t\t},\n\t\tset() {\n\t\t\tconsole.warn(`setting vnode.${property} is not allowed, ${err}`);\n\t\t}\n\t});\n\n\tconst deprecatedAttributes = {\n\t\tnodeName: warn('nodeName', 'use vnode.type'),\n\t\tattributes: warn('attributes', 'use vnode.props'),\n\t\tchildren: warn('children', 'use vnode.props.children')\n\t};\n\n\tconst deprecatedProto = Object.create({}, deprecatedAttributes);\n\n\toptions.vnode = vnode => {\n\t\tconst props = vnode.props;\n\t\tif (\n\t\t\tvnode.type !== null &&\n\t\t\tprops != null &&\n\t\t\t('__source' in props || '__self' in props)\n\t\t) {\n\t\t\tconst newProps = (vnode.props = {});\n\t\t\tfor (let i in props) {\n\t\t\t\tconst v = props[i];\n\t\t\t\tif (i === '__source') vnode.__source = v;\n\t\t\t\telse if (i === '__self') vnode.__self = v;\n\t\t\t\telse newProps[i] = v;\n\t\t\t}\n\t\t}\n\t\tObject.setPrototypeOf(vnode, deprecatedProto);\n\t\tif (oldVnode) oldVnode(vnode);\n\t};\n\n\toptions.diffed = vnode => {\n\t\t// Check if the user passed plain objects as children. Note that we cannot\n\t\t// move this check into `options.vnode` because components can receive\n\t\t// children in any shape they want (e.g.\n\t\t// `<MyJSONFormatter>{{ foo: 123, bar: \"abc\" }}</MyJSONFormatter>`).\n\t\t// Putting this check in `options.diffed` ensures that\n\t\t// `vnode._children` is set and that we only validate the children\n\t\t// that were actually rendered.\n\t\tif (vnode._children) {\n\t\t\tvnode._children.forEach(child => {\n\t\t\t\tif (child && child.type === undefined) {\n\t\t\t\t\t// Remove internal vnode keys that will always be patched\n\t\t\t\t\tdelete child._parent;\n\t\t\t\t\tdelete child._depth;\n\t\t\t\t\tconst keys = Object.keys(child).join(',');\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Objects are not valid as a child. Encountered an object with the keys {${keys}}.` +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/** @type {import('./internal').Component} */\n\t\tconst component = vnode._component;\n\t\tif (component && component.__hooks) {\n\t\t\tlet hooks = component.__hooks;\n\t\t\tif (Array.isArray(hooks._list)) {\n\t\t\t\thooks._list.forEach(hook => {\n\t\t\t\t\tif (hook._factory && (!hook._args || !Array.isArray(hook._args))) {\n\t\t\t\t\t\tlet componentName = getDisplayName(vnode);\n\t\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t\t`In ${componentName} you are calling useMemo/useCallback without passing arguments.\\n` +\n\t\t\t\t\t\t\t\t`This is a noop since it will not be able to memoize, it will execute it every render.` +\n\t\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (oldDiffed) oldDiffed(vnode);\n\n\t\tif (vnode._children != null) {\n\t\t\tconst keys = [];\n\t\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\t\tconst child = vnode._children[i];\n\t\t\t\tif (!child || child.key == null) continue;\n\n\t\t\t\tconst key = child.key;\n\t\t\t\tif (keys.indexOf(key) !== -1) {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t'Following component has two or more children with the ' +\n\t\t\t\t\t\t\t`same key attribute: \"${key}\". This may cause glitches and misbehavior ` +\n\t\t\t\t\t\t\t'in rendering process. Component: \\n\\n' +\n\t\t\t\t\t\t\tserializeVNode(vnode) +\n\t\t\t\t\t\t\t`\\n\\n${getOwnerStack(vnode)}`\n\t\t\t\t\t);\n\n\t\t\t\t\t// Break early to not spam the console\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tkeys.push(key);\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst setState = Component.prototype.setState;\nComponent.prototype.setState = function(update, callback) {\n\tif (this._vnode == null) {\n\t\t// `this._vnode` will be `null` during componentWillMount. But it\n\t\t// is perfectly valid to call `setState` during cWM. So we\n\t\t// need an additional check to verify that we are dealing with a\n\t\t// call inside constructor.\n\t\tif (this.state == null) {\n\t\t\tconsole.warn(\n\t\t\t\t`Calling \"this.setState\" inside the constructor of a component is a ` +\n\t\t\t\t\t`no-op and might be a bug in your application. Instead, set ` +\n\t\t\t\t\t`\"this.state = {}\" directly.\\n\\n${getOwnerStack(getCurrentVNode())}`\n\t\t\t);\n\t\t}\n\t} else if (this._parentDom == null) {\n\t\tconsole.warn(\n\t\t\t`Can't call \"this.setState\" on an unmounted component. This is a no-op, ` +\n\t\t\t\t`but it indicates a memory leak in your application. To fix, cancel all ` +\n\t\t\t\t`subscriptions and asynchronous tasks in the componentWillUnmount method.` +\n\t\t\t\t`\\n\\n${getOwnerStack(this._vnode)}`\n\t\t);\n\t}\n\n\treturn setState.call(this, update, callback);\n};\n\nconst forceUpdate = Component.prototype.forceUpdate;\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode == null) {\n\t\tconsole.warn(\n\t\t\t`Calling \"this.forceUpdate\" inside the constructor of a component is a ` +\n\t\t\t\t`no-op and might be a bug in your application.\\n\\n${getOwnerStack(\n\t\t\t\t\tgetCurrentVNode()\n\t\t\t\t)}`\n\t\t);\n\t} else if (this._parentDom == null) {\n\t\tconsole.warn(\n\t\t\t`Can't call \"this.forceUpdate\" on an unmounted component. This is a no-op, ` +\n\t\t\t\t`but it indicates a memory leak in your application. To fix, cancel all ` +\n\t\t\t\t`subscriptions and asynchronous tasks in the componentWillUnmount method.` +\n\t\t\t\t`\\n\\n${getOwnerStack(this._vnode)}`\n\t\t);\n\t}\n\treturn forceUpdate.call(this, callback);\n};\n\n/**\n * Serialize a vnode tree to a string\n * @param {import('./internal').VNode} vnode\n * @returns {string}\n */\nexport function serializeVNode(vnode) {\n\tlet { props } = vnode;\n\tlet name = getDisplayName(vnode);\n\n\tlet attrs = '';\n\tfor (let prop in props) {\n\t\tif (props.hasOwnProperty(prop) && prop !== 'children') {\n\t\t\tlet value = props[prop];\n\n\t\t\t// If it is an object but doesn't have toString(), use Object.toString\n\t\t\tif (typeof value == 'function') {\n\t\t\t\tvalue = `function ${value.displayName || value.name}() {}`;\n\t\t\t}\n\n\t\t\tvalue =\n\t\t\t\tObject(value) === value && !value.toString\n\t\t\t\t\t? Object.prototype.toString.call(value)\n\t\t\t\t\t: value + '';\n\n\t\t\tattrs += ` ${prop}=${JSON.stringify(value)}`;\n\t\t}\n\t}\n\n\tlet children = props.children;\n\treturn `<${name}${attrs}${\n\t\tchildren && children.length ? '>..</' + name + '>' : ' />'\n\t}`;\n}\n","const ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nlet loggedTypeFailures = {};\n\n/**\n * Reset the history of which prop type warnings have been logged.\n */\nexport function resetPropWarnings() {\n\tloggedTypeFailures = {};\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * Adapted from https://github.com/facebook/prop-types/blob/master/checkPropTypes.js\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n */\nexport function checkPropTypes(\n\ttypeSpecs,\n\tvalues,\n\tlocation,\n\tcomponentName,\n\tgetStack\n) {\n\tObject.keys(typeSpecs).forEach(typeSpecName => {\n\t\tlet error;\n\t\ttry {\n\t\t\terror = typeSpecs[typeSpecName](\n\t\t\t\tvalues,\n\t\t\t\ttypeSpecName,\n\t\t\t\tcomponentName,\n\t\t\t\tlocation,\n\t\t\t\tnull,\n\t\t\t\tReactPropTypesSecret\n\t\t\t);\n\t\t} catch (e) {\n\t\t\terror = e;\n\t\t}\n\t\tif (error && !(error.message in loggedTypeFailures)) {\n\t\t\tloggedTypeFailures[error.message] = true;\n\t\t\tconsole.error(\n\t\t\t\t`Failed ${location} type: ${error.message}${(getStack && getStack()) ||\n\t\t\t\t\t''}`\n\t\t\t);\n\t\t}\n\t});\n}\n","import { options, Fragment } from 'preact';\n\n/**\n * Get human readable name of the component/dom node\n * @param {import('./internal').VNode} vnode\n * @param {import('./internal').VNode} vnode\n * @returns {string}\n */\nexport function getDisplayName(vnode) {\n\tif (vnode.type === Fragment) {\n\t\treturn 'Fragment';\n\t} else if (typeof vnode.type == 'function') {\n\t\treturn vnode.type.displayName || vnode.type.name;\n\t} else if (typeof vnode.type == 'string') {\n\t\treturn vnode.type;\n\t}\n\n\treturn '#text';\n}\n\n/**\n * Used to keep track of the currently rendered `vnode` and print it\n * in debug messages.\n */\nlet renderStack = [];\n\n/**\n * Keep track of the current owners. An owner describes a component\n * which was responsible to render a specific `vnode`. This exclude\n * children that are passed via `props.children`, because they belong\n * to the parent owner.\n *\n * ```jsx\n * const Foo = props => <div>{props.children}</div> // div's owner is Foo\n * const Bar = props => {\n *   return (\n *     <Foo><span /></Foo> // Foo's owner is Bar, span's owner is Bar\n *   )\n * }\n * ```\n *\n * Note: A `vnode` may be hoisted to the root scope due to compiler\n * optimiztions. In these cases the `_owner` will be different.\n */\nlet ownerStack = [];\n\n/**\n * Get the currently rendered `vnode`\n * @returns {import('./internal').VNode | null}\n */\nexport function getCurrentVNode() {\n\treturn renderStack.length > 0 ? renderStack[renderStack.length - 1] : null;\n}\n\n/**\n * If the user doesn't have `@babel/plugin-transform-react-jsx-source`\n * somewhere in his tool chain we can't print the filename and source\n * location of a component. In that case we just omit that, but we'll\n * print a helpful message to the console, notifying the user of it.\n */\nlet hasBabelPlugin = false;\n\n/**\n * Check if a `vnode` is a possible owner.\n * @param {import('./internal').VNode} vnode\n */\nfunction isPossibleOwner(vnode) {\n\treturn typeof vnode.type == 'function' && vnode.type != Fragment;\n}\n\n/**\n * Return the component stack that was captured up to this point.\n * @param {import('./internal').VNode} vnode\n * @returns {string}\n */\nexport function getOwnerStack(vnode) {\n\tconst stack = [vnode];\n\tlet next = vnode;\n\twhile (next._owner != null) {\n\t\tstack.push(next._owner);\n\t\tnext = next._owner;\n\t}\n\n\treturn stack.reduce((acc, owner) => {\n\t\tacc += `  in ${getDisplayName(owner)}`;\n\n\t\tconst source = owner.__source;\n\t\tif (source) {\n\t\t\tacc += ` (at ${source.fileName}:${source.lineNumber})`;\n\t\t} else if (!hasBabelPlugin) {\n\t\t\thasBabelPlugin = true;\n\t\t\tconsole.warn(\n\t\t\t\t'Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.'\n\t\t\t);\n\t\t}\n\n\t\treturn (acc += '\\n');\n\t}, '');\n}\n\n/**\n * Setup code to capture the component trace while rendering. Note that\n * we cannot simply traverse `vnode._parent` upwards, because we have some\n * debug messages for `this.setState` where the `vnode` is `undefined`.\n */\nexport function setupComponentStack() {\n\tlet oldDiff = options._diff;\n\tlet oldDiffed = options.diffed;\n\tlet oldRoot = options._root;\n\tlet oldVNode = options.vnode;\n\tlet oldRender = options._render;\n\n\toptions.diffed = vnode => {\n\t\tif (isPossibleOwner(vnode)) {\n\t\t\townerStack.pop();\n\t\t}\n\t\trenderStack.pop();\n\t\tif (oldDiffed) oldDiffed(vnode);\n\t};\n\n\toptions._diff = vnode => {\n\t\tif (isPossibleOwner(vnode)) {\n\t\t\trenderStack.push(vnode);\n\t\t}\n\t\tif (oldDiff) oldDiff(vnode);\n\t};\n\n\toptions._root = (vnode, parent) => {\n\t\townerStack = [];\n\t\tif (oldRoot) oldRoot(vnode, parent);\n\t};\n\n\toptions.vnode = vnode => {\n\t\tvnode._owner =\n\t\t\townerStack.length > 0 ? ownerStack[ownerStack.length - 1] : null;\n\t\tif (oldVNode) oldVNode(vnode);\n\t};\n\n\toptions._render = vnode => {\n\t\tif (isPossibleOwner(vnode)) {\n\t\t\townerStack.push(vnode);\n\t\t}\n\n\t\tif (oldRender) oldRender(vnode);\n\t};\n}\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tif (currentComponent.__hooks) {\n\t\tcurrentComponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\tcurrentComponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\tcurrentComponent.__hooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (!c) return;\n\n\tconst hooks = c.__hooks;\n\tif (hooks) {\n\t\tif (hooks._pendingEffects.length) {\n\t\t\tafterPaint(afterPaintEffects.push(c));\n\t\t}\n\t}\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (!c) return;\n\n\tconst hooks = c.__hooks;\n\tif (hooks) {\n\t\ttry {\n\t\t\thooks._list.forEach(hook => hook._cleanup && hook._cleanup());\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {import('./internal').HookState}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} initialState\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\tif (!hookState._component) {\n\t\thookState._component = currentComponent;\n\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value[0] = nextValue;\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') ref(createHandle());\n\t\t\telse if (ref) ref.current = createHandle();\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t\treturn (state._value = factory());\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\nexport function useErrorBoundary(cb) {\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.some(component => {\n\t\tif (component._parentDom) {\n\t\t\ttry {\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t} catch (e) {\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t\toptions._catchError(e, component._vnode);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tcancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (typeof window != 'undefined') {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\tif (hook._cleanup) hook._cleanup();\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\tconst result = hook._value();\n\tif (typeof result == 'function') hook._cleanup = result;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn !oldArgs || newArgs.some((arg, index) => arg !== oldArgs[index]);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport class PureComponent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t// Some third-party libraries check if this property is present\n\t\tthis.isPureReactComponent = true;\n\t}\n\n\tshouldComponentUpdate(props, state) {\n\t\treturn (\n\t\t\tshallowDiffers(this.props, props) || shallowDiffers(this.state, state)\n\t\t);\n\t}\n}\n","import { createElement } from 'preact';\nimport { shallowDiffers, assign } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionalComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionalComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, assign({}, props));\n\t}\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionalComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref);\n\t}\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (!children) return null;\n\treturn toChildArray(children).reduce(\n\t\t(acc, value, index) => acc.concat(fn(value, index)),\n\t\t[]\n\t);\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tchildren = toChildArray(children);\n\t\tif (children.length !== 1) {\n\t\t\tthrow new Error('Children.only() expects only one child.');\n\t\t}\n\t\treturn children[0];\n\t},\n\ttoArray: toChildArray\n};\n","import { Component, createElement, options } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function(error, newVNode, oldVNode) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode._component);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode);\n};\n\nfunction detachedClone(vnode) {\n\tif (vnode) {\n\t\tvnode = assign({}, vnode);\n\t\tvnode._component = null;\n\t\tvnode._children = vnode._children && vnode._children.map(detachedClone);\n\t}\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @param {Promise} promise The thrown promise\n * @param {Component<any, any>} suspendingComponent The suspending component\n */\nSuspense.prototype._childDidSuspend = function(promise, suspendingComponent) {\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._suspendedComponentWillUnmount =\n\t\tsuspendingComponent.componentWillUnmount;\n\tsuspendingComponent.componentWillUnmount = () => {\n\t\tonResolved();\n\n\t\tif (suspendingComponent._suspendedComponentWillUnmount) {\n\t\t\tsuspendingComponent._suspendedComponentWillUnmount();\n\t\t}\n\t};\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\tc._vnode._children[0] = c.state._suspended;\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\tif (!c._pendingSuspensionCount++) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.render = function(props, state) {\n\tif (this._detachOnNextRender) {\n\t\tthis._vnode._children[0] = detachedClone(this._detachOnNextRender);\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\treturn [\n\t\tcreateElement(Component, null, state._suspended ? null : props.children),\n\t\tstate._suspended && props.fallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('../src/internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function(child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function(props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate = SuspenseList.prototype.componentDidMount = function() {\n\t// Iterate through all children after mounting for two reasons:\n\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t//    The nodes can now be completely consumed from the linked list.\n\t// 2. Handle nodes that might have gotten resolved between render and\n\t//    componentDidMount.\n\tconst list = this;\n\tlist._map.forEach((node, child) => {\n\t\tresolve(list, child, node);\n\t});\n};\n","import { createElement, hydrate, render, _unmount } from 'preact';\n\nclass ContextProvider {\n\tgetChildContext() {\n\t\treturn this.props.context;\n\t}\n\trender(props) {\n\t\treturn props.children;\n\t}\n}\n\n/**\n * Portal component\n * @param {object | null | undefined} props\n */\nfunction Portal(props) {\n\tlet _this = this;\n\tlet container = props.container;\n\tlet wrap = createElement(\n\t\tContextProvider,\n\t\t{ context: _this.context },\n\t\tprops.vnode\n\t);\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\tif (_this._temp.parentNode) _this._container.removeChild(_this._temp);\n\t\t_unmount(_this._wrap);\n\t\t_this._hasMounted = false;\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props.vnode) {\n\t\tif (!_this._hasMounted) {\n\t\t\t// Create a placeholder that we can use to insert into.\n\t\t\t_this._temp = document.createTextNode('');\n\t\t\t// Hydrate existing nodes to keep the dom intact, when rendering\n\t\t\t// wrap into the container.\n\t\t\thydrate('', container);\n\t\t\t// Append to the container (this matches React's behavior)\n\t\t\tcontainer.appendChild(_this._temp);\n\t\t\t// At this point we have mounted and should set our container.\n\t\t\t_this._hasMounted = true;\n\t\t\t_this._container = container;\n\t\t\t// Render our wrapping element into temp.\n\t\t\trender(wrap, container, _this._temp);\n\t\t\t_this._children = _this._temp._children;\n\t\t} else {\n\t\t\t// When we have mounted and the vnode is present it means the\n\t\t\t// props have changed or a parent is triggering a rerender.\n\t\t\t// This implies we only need to call render. But we need to keep\n\t\t\t// the old tree around, otherwise will treat the vnodes as new and\n\t\t\t// will wrongly call `componentDidMount` on them\n\t\t\tcontainer._children = _this._children;\n\t\t\trender(wrap, container);\n\t\t\t_this._children = container._children;\n\t\t}\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._hasMounted) {\n\t\tif (_this._temp.parentNode) _this._container.removeChild(_this._temp);\n\t\t_unmount(_this._wrap);\n\t}\n\t// Set the wrapping element for future unmounting.\n\t_this._wrap = wrap;\n\n\t_this.componentWillUnmount = () => {\n\t\tif (_this._temp.parentNode) _this._container.removeChild(_this._temp);\n\t\t_unmount(_this._wrap);\n\t};\n\n\treturn null;\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\treturn createElement(Portal, { vnode, container });\n}\n","/**\n * Normalize event handlers like react does. Most famously it uses `onChange` for any input element.\n * @param {import('./internal').VNode} vnode The vnode to normalize events on\n */\nexport function applyEventNormalization({ type, props }) {\n\tif (!props || typeof type != 'string') return;\n\tlet newProps = {};\n\n\tfor (let i in props) {\n\t\tif (/^on(Ani|Tra|Tou)/.test(i)) {\n\t\t\tprops[i.toLowerCase()] = props[i];\n\t\t\tdelete props[i];\n\t\t}\n\t\tnewProps[i.toLowerCase()] = i;\n\t}\n\tif (newProps.ondoubleclick) {\n\t\tprops.ondblclick = props[newProps.ondoubleclick];\n\t\tdelete props[newProps.ondoubleclick];\n\t}\n\tif (newProps.onbeforeinput) {\n\t\tprops.onbeforeinput = props[newProps.onbeforeinput];\n\t\tdelete props[newProps.onbeforeinput];\n\t}\n\t// for *textual inputs* (incl textarea), normalize `onChange` -> `onInput`:\n\tif (\n\t\tnewProps.onchange &&\n\t\t(type === 'textarea' ||\n\t\t\t(type.toLowerCase() === 'input' && !/^fil|che|ra/i.test(props.type)))\n\t) {\n\t\tlet normalized = newProps.oninput || 'oninput';\n\t\tif (!props[normalized]) {\n\t\t\tprops[normalized] = props[newProps.onchange];\n\t\t\tdelete props[newProps.onchange];\n\t\t}\n\t}\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isClient = typeof window === 'object';\nexports.on = function (obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return obj.addEventListener.apply(obj, args);\n};\nexports.off = function (obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return obj.removeEventListener.apply(obj, args);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar util_1 = require(\"./util\");\nvar defaultTarget = util_1.isClient ? window : null;\nvar useEvent = function (name, handler, target, options) {\n    if (target === void 0) { target = defaultTarget; }\n    react_1.useEffect(function () {\n        if (!handler) {\n            return;\n        }\n        if (!target) {\n            return;\n        }\n        var fn = target.addEventListener || target.on;\n        fn.call(target, name, handler, options);\n        return function () {\n            var cleanFn = target.removeEventListener || target.off;\n            cleanFn.call(target, name, handler, options);\n        };\n    }, [name, handler, target, JSON.stringify(options)]);\n};\nexports.default = useEvent;\n","'use strict';\n\nvar KEBAB_REGEX = /[A-Z]/g;\n\nvar hash = function (str) {\n    var hash = 5381, i = str.length;\n\n    while (i) hash = (hash * 33) ^ str.charCodeAt(--i);\n\n    return '_' + (hash >>> 0).toString(36);\n};\n\nexports.create = function (config) {\n    config = config || {};\n    var assign = config.assign || Object.assign;\n    var client = typeof window === 'object';\n\n    // Check if we are really in browser environment.\n    if (process.env.NODE_ENV !== 'production') {\n        if (client) {\n            if ((typeof document !== 'object') || !document.getElementsByTagName('HTML')) {\n                console.error(\n                    'nano-css detected browser environment because of \"window\" global, but ' +\n                    '\"document\" global seems to be defective.'\n                );\n            }\n        }\n    }\n\n    var renderer = assign({\n        raw: '',\n        pfx: '_',\n        client: client,\n        assign: assign,\n        stringify: JSON.stringify,\n        kebab: function (prop) {\n            return prop.replace(KEBAB_REGEX, '-$&').toLowerCase();\n        },\n        decl: function (key, value) {\n            key = renderer.kebab(key);\n            return key + ':' + value + ';';\n        },\n        hash: function (obj) {\n            return hash(renderer.stringify(obj));\n        },\n        selector: function (parent, selector) {\n            return parent + (selector[0] === ':' ? ''  : ' ') + selector;\n        },\n        putRaw: function (rawCssRule) {\n            renderer.raw += rawCssRule;\n        },\n    }, config);\n\n    if (renderer.client) {\n        if (!renderer.sh)\n            document.head.appendChild(renderer.sh = document.createElement('style'));\n\n        if (process.env.NODE_ENV !== 'production') {\n            renderer.sh.setAttribute('data-nano-css-dev', '');\n\n            // Test style sheet used in DEV mode to test if .insetRule() would throw.\n            renderer.shTest = document.createElement('style');\n            renderer.shTest.setAttribute('data-nano-css-dev-tests', '');\n            document.head.appendChild(renderer.shTest);\n        }\n\n        renderer.putRaw = function (rawCssRule) {\n            // .insertRule() is faster than .appendChild(), that's why we use it in PROD.\n            // But CSS injected using .insertRule() is not displayed in Chrome Devtools,\n            // that's why we use .appendChild in DEV.\n            if (process.env.NODE_ENV === 'production') {\n                var sheet = renderer.sh.sheet;\n\n                // Unknown pseudo-selectors will throw, this try/catch swallows all errors.\n                try {\n                    sheet.insertRule(rawCssRule, sheet.cssRules.length);\n                // eslint-disable-next-line no-empty\n                } catch (error) {}\n            } else {\n                // Test if .insertRule() works in dev mode. Unknown pseudo-selectors will throw when\n                // .insertRule() is used, but .appendChild() will not throw.\n                try {\n                    renderer.shTest.sheet.insertRule(rawCssRule, renderer.shTest.sheet.cssRules.length);\n                } catch (error) {\n                    if (config.verbose) {\n                        console.error(error);\n                    }\n                }\n\n                // Insert pretty-printed CSS for dev mode.\n                renderer.sh.appendChild(document.createTextNode(rawCssRule));\n            }\n        };\n    }\n\n    renderer.put = function (selector, decls, atrule) {\n        var str = '';\n        var prop, value;\n        var postponed = [];\n\n        for (prop in decls) {\n            value = decls[prop];\n\n            if ((value instanceof Object) && !(value instanceof Array)) {\n                postponed.push(prop);\n            } else {\n                if ((process.env.NODE_ENV !== 'production') && !renderer.sourcemaps) {\n                    str += '    ' + renderer.decl(prop, value, selector, atrule) + '\\n';\n                } else {\n                    str += renderer.decl(prop, value, selector, atrule);\n                }\n            }\n        }\n\n        if (str) {\n            if ((process.env.NODE_ENV !== 'production') && !renderer.sourcemaps) {\n                str = '\\n' + selector + ' {\\n' + str + '}\\n';\n            } else {\n                str = selector + '{' + str + '}';\n            }\n            renderer.putRaw(atrule ? atrule + '{' + str + '}' : str);\n        }\n\n        for (var i = 0; i < postponed.length; i++) {\n            prop = postponed[i];\n\n            if (prop[0] === \"@\" && prop !== \"@font-face\") {\n                renderer.putAt(selector, decls[prop], prop);\n            } else {\n                renderer.put(renderer.selector(selector, prop), decls[prop], atrule);\n            }\n        }\n    };\n\n    renderer.putAt = renderer.put;\n\n    return renderer;\n};\n","'use strict';\n\nexports.addon = function (renderer) {\n    if (process.env.NODE_ENV !== 'production') {\n        require('./__dev__/warnOnMissingDependencies')('rule', renderer, ['put']);\n    }\n\n    var blocks;\n\n    if (process.env.NODE_ENV !== 'production') {\n        blocks = {};\n    }\n\n    renderer.rule = function (css, block) {\n        // Warn user if CSS selectors clash.\n        if (process.env.NODE_ENV !== 'production') {\n            if (block) {\n                if (typeof block !== 'string') {\n                    throw new TypeError(\n                        'nano-css block name must be a string. ' +\n                        'For example, use nano.rule({color: \"red\", \"RedText\").'\n                    );\n                }\n\n                if (blocks[block]) {\n                    console.error('Block name \"' + block + '\" used more than once.');\n                }\n\n                blocks[block] = 1;\n            }\n        }\n\n        block = block || renderer.hash(css);\n        block = renderer.pfx + block;\n        renderer.put('.' + block, css);\n\n        return ' ' + block;\n    };\n};\n","'use strict';\n\nexports.addon = function (renderer) {\n    var cache = {};\n\n    renderer.cache = function (css) {\n        if (!css) return '';\n\n        var key = renderer.hash(css);\n\n        if (!cache[key]) {\n            cache[key] = renderer.rule(css, key);\n        }\n\n        return cache[key];\n    };\n};\n","'use strict';\n\nexports.addon = function (renderer) {\n    if (process.env.NODE_ENV !== 'production') {\n        require('./__dev__/warnOnMissingDependencies')('hydrate', renderer, ['put']);\n    }\n\n    var hydrated = {};\n\n    renderer.hydrate = function (sh) {\n        var cssRules = sh.cssRules || sh.sheet.cssRules;\n\n        for (var i = 0; i < cssRules.length; i++)\n            hydrated[cssRules[i].selectorText] = 1;\n    };\n\n    if (renderer.client) {\n        if (renderer.sh) renderer.hydrate(renderer.sh);\n\n        var put = renderer.put;\n\n        renderer.put = function (selector, css) {\n            if (selector in hydrated) {\n                if (process.env.NODE_ENV !== 'production') {\n                    // eslint-disable-next-line\n                    console.info('Hydrated selector: ' + selector);\n                }\n\n                return;\n            }\n\n            put(selector, css);\n        };\n    }\n};\n","'use strict';\n\nexports.addon = function (renderer) {\n    renderer.selector = function (parentSelectors, selector) {\n        var parents = parentSelectors.split(',');\n        var result = [];\n        var selectors = selector.split(',');\n        var len1 = parents.length;\n        var len2 = selectors.length;\n        var i, j, sel, pos, parent, replacedSelector;\n\n        for (i = 0; i < len2; i++) {\n            sel = selectors[i];\n            pos = sel.indexOf('&');\n\n            if (pos > -1) {\n                for (j = 0; j < len1; j++) {\n                    parent = parents[j];\n                    replacedSelector = sel.replace(/&/g, parent);\n                    result.push(replacedSelector);\n                }\n            } else {\n                for (j = 0; j < len1; j++) {\n                    parent = parents[j];\n\n                    if (parent) {\n                        result.push(parent + ' ' + sel);\n                    } else {\n                        result.push(sel);\n                    }\n                }\n            }\n        }\n\n        return result.join(',');\n    };\n};\n","import { create } from \"nano-css\";\n\nimport { addon as addonRule } from \"nano-css/addon/rule\";\nimport { addon as addonCache } from \"nano-css/addon/cache\";\nimport { addon as addonHydrate } from \"nano-css/addon/hydrate\";\nimport { addon as addonNesting } from \"nano-css/addon/nesting\";\nimport { CssLikeObject } from \"nano-css/types/common\";\n\nconst nano = create({\n  pfx: \"fd\",\n  sh: document.getElementById(\"nano-css\") as any\n});\n\naddonRule(nano);\naddonCache(nano);\naddonHydrate(nano);\naddonNesting(nano);\n\nexport default Object.assign(nano, {\n  putMany(obj: Record<string, CssLikeObject>) {\n    for (const key in obj) {\n      nano.put(key, obj[key]);\n    }\n  }\n});\n","type Listener<T> = (T) => any;\n\nexport default class PicoSignal<T> {\n  private listeners = [] as Listener<T>[];\n\n  add(listener: Listener<T>) {\n    this.listeners.push(listener);\n  }\n\n  remove(listener: Listener<T>) {\n    const last = this.listeners[this.listeners.length - 1];\n    if (last === listener) {\n      this.listeners.pop();\n      return;\n    }\n\n    const i = this.listeners.indexOf(listener);\n    if (i < 0) return;\n\n    this.listeners[i] = last;\n    this.listeners.pop();\n  }\n\n  dispatch(arg: T) {\n    for (const listener of this.listeners) {\n      listener(arg);\n    }\n  }\n\n  clear() {\n    this.listeners = [];\n  }\n}\n","//@ts-ignore\nimport WASM from \"../../zig-cache/fundude.wasm\";\nimport PicoSignal from \"./PicoSignal\";\n\nObject.assign(window, { WASM });\n\nexport type Matrix<T> = T & {\n  width: number;\n  height: number;\n};\n\nclass U8Chunk extends Uint8Array {\n  constructor(private ptr: number, length: number) {\n    super(WASM.memory.buffer, ptr, length);\n  }\n\n  //toInt(): bigint {\n  //  return BigInt(this.ptr) | (BigInt(this.length) << BigInt(32));\n  //}\n\n  toUTF8() {\n    return new TextDecoder(\"utf-8\").decode(this);\n  }\n\n  // TODO: remove floats\n  // JS can't handle i64 yet so we're using f64 for now\n  toFloat(): number {\n    let buf = new ArrayBuffer(8);\n    let u32s = new Uint32Array(buf);\n    u32s[0] = this.ptr;\n    u32s[1] = this.length;\n    return new Float64Array(buf)[0];\n  }\n\n  static fromFloat(value: number): U8Chunk {\n    let buf = new ArrayBuffer(8);\n    new Float64Array(buf)[0] = value;\n    let u32s = new Uint32Array(buf);\n    return new U8Chunk(u32s[0], u32s[1]);\n  }\n\n  static matrix(value: number): Matrix<U8Chunk> {\n    let buf = new ArrayBuffer(8);\n    new Float64Array(buf)[0] = value;\n    let u16s = new Uint16Array(buf);\n    const ptr = u16s[0] | (u16s[1] << 16);\n    const width = u16s[2];\n    const height = u16s[3];\n    return Object.assign(new U8Chunk(ptr, width * height), { width, height });\n  }\n}\n\nclass U16Chunk extends Uint16Array {\n  constructor(private ptr: number, length: number) {\n    super(WASM.memory.buffer, ptr, length);\n  }\n\n  //toInt(): bigint {\n  //  return BigInt(this.ptr) | (BigInt(this.length) << BigInt(32));\n  //}\n\n  // TODO: remove floats\n  // JS can't handle i64 yet so we're using f64 for now\n  toFloat(): number {\n    let buf = new ArrayBuffer(8);\n    let u32s = new Uint32Array(buf);\n    u32s[0] = this.ptr;\n    u32s[1] = this.length;\n    return new Float64Array(buf)[0];\n  }\n\n  static fromFloat(value: number): U16Chunk {\n    let buf = new ArrayBuffer(8);\n    new Float64Array(buf)[0] = value;\n    let u32s = new Uint32Array(buf);\n    return new U16Chunk(u32s[0], u32s[1]);\n  }\n\n  static matrix(value: number): Matrix<U16Chunk> {\n    let buf = new ArrayBuffer(8);\n    new Float64Array(buf)[0] = value;\n    let u16s = new Uint16Array(buf);\n    const ptr = u16s[0] | (u16s[1] << 16);\n    const width = u16s[2];\n    const height = u16s[3];\n    return Object.assign(new U16Chunk(ptr, width * height), { width, height });\n  }\n}\n\nexport const MMU_OFFSETS = {\n  shift: 0x8000,\n  segments: [\n    { start: 0x8000, end: 0xa000 - 1, name: \"vram\" },\n    { start: 0xc000, end: 0xe000 - 1, name: \"ram\" },\n    { start: 0xfe00, end: 0xfea0 - 1, name: \"oam\" },\n    { start: 0xff00, end: 0xff4c - 1, name: \"io\" },\n    { start: 0xff80, end: 0xffff - 1, name: \"himem\" }\n  ]\n};\n\nenum InputBitMapping {\n  right = 1,\n  left = 2,\n  up = 4,\n  down = 8,\n\n  a = 16,\n  b = 32,\n  select = 64,\n  start = 128\n}\n\nexport type Input = keyof typeof InputBitMapping;\n\nexport default class FundudeWasm {\n  public changed = new PicoSignal<void>();\n\n  private readonly pointer: number;\n  cart: Uint8Array;\n  private cartCopyPtr: number;\n\n  constructor(cart: Uint8Array) {\n    this.pointer = WASM.fd_alloc();\n    this.init(cart);\n  }\n\n  screen() {\n    return U16Chunk.matrix(WASM.fd_screen(this.pointer));\n  }\n\n  background() {\n    return U16Chunk.matrix(WASM.fd_background(this.pointer));\n  }\n\n  window() {\n    return U16Chunk.matrix(WASM.fd_window(this.pointer));\n  }\n\n  sprites() {\n    return U16Chunk.matrix(WASM.fd_sprites(this.pointer));\n  }\n\n  patterns() {\n    return U8Chunk.matrix(WASM.fd_patterns(this.pointer));\n  }\n\n  cpu() {\n    const raw = U8Chunk.fromFloat(WASM.fd_cpu_reg(this.pointer));\n    return Object.assign(raw, {\n      AF: () => raw[0] + (raw[1] << 8),\n      BC: () => raw[2] + (raw[3] << 8),\n      DE: () => raw[4] + (raw[5] << 8),\n      HL: () => raw[6] + (raw[7] << 8),\n      SP: () => raw[8] + (raw[9] << 8),\n      PC: () => raw[10] + (raw[11] << 8)\n    });\n  }\n\n  mmu() {\n    return U8Chunk.fromFloat(WASM.fd_mmu(this.pointer));\n  }\n\n  init(cart: Uint8Array) {\n    if (this.cartCopyPtr) {\n      WASM.free(this.cartCopyPtr);\n    }\n\n    this.cart = cart;\n    this.cartCopyPtr = WASM.malloc(cart.length);\n    const copy = new U8Chunk(this.cartCopyPtr, cart.length);\n    copy.set(cart);\n\n    const status = WASM.fd_init(this.pointer, copy.toFloat());\n    switch (status) {\n      case 0:\n        break;\n      case 1:\n        throw new Error(\"Cart unsupported\");\n      case 2:\n        throw new Error(\"Cart size invalid\");\n      case 3:\n        throw new Error(\"Cart ram size error\");\n      default:\n        throw new Error(\"Unknown error\");\n    }\n\n    this.changed.dispatch();\n  }\n\n  dealloc() {\n    WASM.free(this.cartCopyPtr);\n    WASM.free(this.pointer);\n  }\n\n  breakpoint: number = -1;\n  setBreakpoint(bp: number) {\n    this.breakpoint = bp;\n    WASM.fd_set_breakpoint(this.pointer, bp);\n    this.changed.dispatch();\n  }\n\n  reset() {\n    WASM.fd_reset(this.pointer);\n    this.changed.dispatch();\n  }\n\n  step(): number {\n    const cycles = WASM.fd_step(this.pointer);\n    this.changed.dispatch();\n    return cycles;\n  }\n\n  stepCycles(cycles: number): number {\n    const actual = WASM.fd_step_cycles(this.pointer, cycles);\n    this.changed.dispatch();\n    return actual;\n  }\n\n  stepMs(ms: number): number {\n    const cycles = WASM.fd_step_ms(this.pointer, ms);\n    this.changed.dispatch();\n    return cycles;\n  }\n\n  _inputStatus(raw: number): Record<Input, boolean> {\n    const mapping = {} as Record<Input, boolean>;\n    for (let bit = 0; bit < 8; bit++) {\n      const mask = 1 << bit;\n      const input = InputBitMapping[mask];\n      const value = Boolean(raw & mask);\n      mapping[input] = value;\n    }\n    return mapping;\n  }\n\n  inputPress(input: Input) {\n    const val = InputBitMapping[input];\n    return this._inputStatus(WASM.fd_input_press(this.pointer, val));\n  }\n\n  inputRelease(input: Input) {\n    const val = InputBitMapping[input];\n    return this._inputStatus(WASM.fd_input_release(this.pointer, val));\n  }\n\n  inputReleaseAll() {\n    return this._inputStatus(WASM.fd_input_release(this.pointer, 0xff));\n  }\n\n  *disassemble(): IterableIterator<[number, string]> {\n    const fd = new FundudeWasm(this.cart);\n    try {\n      while (true) {\n        const addr = fd.cpu().PC();\n        const outChunk = U8Chunk.fromFloat(WASM.fd_disassemble(fd.pointer));\n\n        if (!outChunk.length) {\n          return;\n        }\n        yield [addr, outChunk.toUTF8()];\n      }\n    } finally {\n      fd.dealloc();\n    }\n  }\n}\n","import React from \"react\";\nimport FundudeWasm from \".\";\n\ninterface Item {\n  fd: FundudeWasm;\n  run: () => void;\n  pause: () => void;\n}\n\ninterface Props {\n  autoBoot: boolean;\n  bootCart: Uint8Array;\n  children: React.ReactNode;\n}\n\ninterface State {\n  fd: FundudeWasm;\n}\n\nconst MAX_SKIP_MS = 5000;\nconst MHz = 4194304;\n\nexport const Context = React.createContext<Item>(null);\n\nexport class Provider extends React.Component<Props, State> {\n  prevSpin?: number;\n  raf?: number;\n  timeout?: number;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      fd: new FundudeWasm(props.bootCart)\n    };\n\n    Object.assign(window, { fd: this.state.fd });\n\n    this.handleChange = this.handleChange.bind(this);\n    this.run = this.run.bind(this);\n    this.pause = this.pause.bind(this);\n    this.spin = this.spin.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.autoBoot) {\n      this.run();\n    } else {\n      this.state.fd.changed.add(this.handleChange);\n    }\n  }\n\n  handleChange() {\n    this.forceUpdate();\n  }\n\n  spin(ts: DOMHighResTimeStamp) {\n    if (!this.prevSpin) {\n      return;\n    }\n    cancelAnimationFrame(this.raf);\n    clearTimeout(this.timeout);\n\n    if (!ts) {\n      ts = performance.now();\n    }\n\n    // TODO: re-enable no-skip\n    // this.state.fd.stepFrames(1);\n    const elapsed = ts - this.prevSpin;\n    this.state.fd.stepMs(elapsed);\n    this.prevSpin = ts;\n\n    if (this.state.fd.cpu().PC() === this.state.fd.breakpoint) {\n      return this.pause();\n    }\n\n    this.raf = requestAnimationFrame(this.spin);\n    this.timeout = setTimeout(this.spin, 1000);\n  }\n\n  run() {\n    if (!this.prevSpin) {\n      this.state.fd.changed.remove(this.handleChange);\n      this.prevSpin = performance.now();\n\n      this.raf = requestAnimationFrame(this.spin);\n      this.timeout = setTimeout(this.spin, 1000);\n    }\n  }\n\n  pause() {\n    if (this.prevSpin) {\n      this.state.fd.changed.add(this.handleChange);\n      this.prevSpin = null;\n      cancelAnimationFrame(this.raf);\n      clearTimeout(this.timeout);\n    }\n  }\n\n  render() {\n    return (\n      <Context.Provider\n        value={{ fd: this.state.fd, run: this.run, pause: this.pause }}\n      >\n        {this.props.children}\n      </Context.Provider>\n    );\n  }\n}\n\nexport default { Context, Provider };\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from \"react\";\nimport cx from \"classnames\";\n\nimport nano from \"./nano\";\nimport { Matrix } from \"../wasm\";\nimport PicoSignal from \"../wasm/PicoSignal\";\n\nconst CSS = {\n  root: nano.rule({\n    position: \"relative\",\n    backgroundColor: \"white\",\n    flex: \"0 auto\",\n    overflow: \"hidden\",\n  }),\n\n  draw: nano.rule({\n    position: \"relative\",\n    display: \"block\",\n    margin: \"-1px\",\n    opacity: 0.8,\n    mixBlendMode: \"multiply\",\n  }),\n\n  grid: nano.rule({\n    position: \"absolute\",\n    top: \"0\",\n    left: \"0\",\n    transformOrigin: \"0 0\",\n    zIndex: 0,\n    backgroundImage: [\n      `linear-gradient(to right, lightgray 2px, transparent 1px)`,\n      `linear-gradient(to bottom, lightgray 2px, transparent 1px)`,\n    ].join(\",\"),\n    backgroundSize: \"8px 8px\",\n    backgroundPosition: \"-1px -1px\",\n  }),\n\n  viewport: nano.rule({\n    position: \"absolute\",\n    width: \"160px\",\n    height: \"144px\",\n    zIndex: 1,\n    boxShadow: \"inset 0 0 2px 1px black\",\n  }),\n};\n\nconst PADDING = 1;\n\nexport default function Display(props: {\n  className?: string;\n  pixels: () => Matrix<Uint16Array>;\n  scale?: number;\n  signal?: PicoSignal<any>;\n  viewports?: [number, number][];\n  gridColor?: string;\n  blend?: boolean;\n}) {\n  const pixels = props.pixels();\n\n  // const prev = React.useMemo(() => {\n  //   return new Uint8Array(pixels.width * pixels.height);\n  // }, []);\n\n  const imageData = React.useMemo(() => {\n    const imageData = new ImageData(pixels.width, pixels.height);\n    imageData.data.fill(255);\n    return imageData;\n  }, []);\n\n  const drawRef = React.useRef<HTMLCanvasElement>(null);\n\n  const render = React.useCallback(function render() {\n    if (!drawRef.current) return;\n\n    const ctx = drawRef.current.getContext(\"2d\")!;\n    const pixels = props.pixels();\n    // if (props.blend) {\n    //   for (let i = 0; i < pixels.length; i++) {\n    //     const shade = pixels[i];\n    //     const prevAlpha = prev[i];\n    //     const newAlpha = shade * 85;\n    //     imageData.data[4 * i + 3] = (prevAlpha + newAlpha) >> 1;\n    //     prev[i] = newAlpha;\n    //   }\n    // } else {\n    const i32s = new Int32Array(imageData.data.buffer);\n    for (let i = 0; i < pixels.length; i++) {\n      /* Naive solution\n       * const pixel = pixels[i];\n       * const r = (pixel >> 0) & 0b11111;\n       * const g = (pixel >> 5) & 0b11111;\n       * const b = (pixel >> 10) & 0b11111;\n       * // const opaque = (pixel >> 15) & 0b1;\n\n       * imageData.data[4 * i + 0] = r << 3;\n       * imageData.data[4 * i + 1] = g << 3;\n       * imageData.data[4 * i + 2] = b << 3;\n       */\n\n      const raw = pixels[i];\n      var r0 = 31744 & raw;\n      var r1 = 255 & (raw << 3);\n      var r2 = 992 & raw;\n\n      i32s[i] = -16777216 | (r0 << 9) | r1 | (r2 << 6);\n    }\n    // }\n    ctx.putImageData(imageData, PADDING, PADDING);\n  }, []);\n\n  React.useEffect(render, [drawRef.current, props.pixels]);\n\n  React.useEffect(() => {\n    if (props.signal) {\n      const signal = props.signal;\n      signal.add(render);\n      return () => signal.remove(render);\n    }\n  }, [props.signal]);\n\n  const scale = props.scale || 1;\n  const width = pixels.width + PADDING * 2;\n  const height = pixels.height + PADDING * 2;\n\n  return (\n    <div className={cx(CSS.root, props.className)}>\n      {props.gridColor && (\n        <div\n          className={CSS.grid}\n          style={{\n            width: pixels.width,\n            height: pixels.height,\n            transform: `scale(${scale})`,\n          }}\n        />\n      )}\n      <canvas\n        ref={drawRef}\n        className={CSS.draw}\n        width={width}\n        height={height}\n        style={{ width: width * scale }}\n      />\n      {(props.viewports || []).map(([left, top]) => (\n        <div\n          className={CSS.viewport}\n          style={{\n            left,\n            top,\n            transform: `scale(${scale})`,\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n","export function mapObject<E>(\n  obj: any,\n  callback: (value: any, key?: string) => E\n): E[] {\n  const result = [];\n  for (const key in obj) {\n    result.push(callback(obj[key], key));\n  }\n  return result;\n}\n\ntype Indexable = string | number | symbol;\n\nexport function fromEntries<K extends Indexable, V>(\n  entries: Iterable<[K, V]>\n): Record<K, V> {\n  const result = {} as Record<K, V>;\n  for (const [key, value] of entries) {\n    result[key] = value;\n  }\n  return result;\n}\n\nexport function clamp(value: number, lower: number, upper: number) {\n  if (value === value) {\n    if (upper !== undefined) {\n      value = value <= upper ? value : upper;\n    }\n    if (lower !== undefined) {\n      value = value >= lower ? value : lower;\n    }\n  }\n\n  return value;\n}\n","export function deferred<T>() {\n  let resolve: (value?: T | PromiseLike<T> | undefined) => void;\n  let reject: (reason?: any) => void;\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return Object.assign(promise, { resolve: resolve!, reject: reject! });\n}\n\nexport function nextAnimationFrame() {\n  return new Promise(requestAnimationFrame);\n}\n\nexport function readAsArray(file: File) {\n  const reader = new FileReader();\n  return new Promise<ArrayBuffer>((resolve, reject) => {\n    reader.onload = evt => resolve((evt as any).target.result);\n    reader.onerror = reject;\n    reader.readAsArrayBuffer(file);\n  });\n}\n","import sheepitup from \"./sheepitup.gb\";\n\nexport default { sheepitup };\n","import cpu_01_special from \"./cpu-01-special.gb\";\nimport cpu_02_interrupts from \"./cpu-02-interrupts.gb\";\nimport cpu_03_op_sp_hl from \"./cpu-03-op-sp-hl.gb\";\nimport cpu_04_op_r_imm from \"./cpu-04-op-r-imm.gb\";\nimport cpu_05_op_rp from \"./cpu-05-op-rp.gb\";\nimport cpu_06_ld_r_r from \"./cpu-06-ld-r-r.gb\";\nimport cpu_07_jr_jp_call_ret_rst from \"./cpu-07-jr-jp-call-ret-rst.gb\";\nimport cpu_08_misc_instrs from \"./cpu-08-misc-instrs.gb\";\nimport cpu_09_op_r_r from \"./cpu-09-op-r-r.gb\";\nimport cpu_10_bit_ops from \"./cpu-10-bit-ops.gb\";\nimport cpu_11_op_a_hl from \"./cpu-11-op-a-hl.gb\";\n\nexport default {\n  cpu_01_special,\n  cpu_02_interrupts,\n  cpu_03_op_sp_hl,\n  cpu_04_op_r_imm,\n  cpu_05_op_rp,\n  cpu_06_ld_r_r,\n  cpu_07_jr_jp_call_ret_rst,\n  cpu_08_misc_instrs,\n  cpu_09_op_r_r,\n  cpu_10_bit_ops,\n  cpu_11_op_a_hl\n};\n","import blargg from \"./blargg\";\n\nexport default { blargg };\n","import React from \"react\";\nimport cx from \"classnames\";\n\nimport nano from \"./nano\";\nimport { mapObject } from \"./smalldash\";\nimport { readAsArray } from \"./promise\";\n\nimport FD from \"../wasm/react\";\n\nimport ROMS from \"../roms\";\nimport DEBUG_ROMS from \"../roms/debug\";\n\nconst CSS = {\n  root: nano.rule({\n    position: \"relative\",\n    zIndex: 1,\n    width: \"350px\"\n  }),\n\n  toggler: nano.rule({\n    position: \"relative\",\n    display: \"block\",\n    zIndex: 1,\n    font: \"12px monospace\",\n    width: \"100%\",\n    border: \"none\",\n    padding: \"0 10px\",\n    background: \"#d9d9d9\",\n    borderRadius: \"3px 3px 0 0\",\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\"\n  }),\n\n  selector: nano.rule({\n    position: \"absolute\",\n    overflow: \"hidden\",\n    top: \"100%\",\n    width: \"100%\",\n    background: \"rgba(255, 255, 255, 0.8)\",\n    transition: \"300ms ease-in-out height\",\n    padding: \"0 10px\",\n    height: \"0\",\n    borderRadius: \"0 0 3px 3px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n\n    \"&.active\": {\n      height: \"350px\"\n    }\n  }),\n\n  selectorList: nano.rule({\n    font: \"14px monospace\",\n    flex: 1,\n    overflow: \"hidden\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n\n  backdrop: nano.rule({\n    position: \"fixed\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    background: \"#000000\",\n    opacity: 0,\n    transition: \"300ms ease-in-out opacity\",\n    pointerEvents: \"none\",\n\n    \"&.active\": {\n      pointerEvents: \"initial\",\n      opacity: 0.8\n    }\n  }),\n\n  prompt: nano.rule({\n    marginTop: \"8px\",\n\n    \"&:before, &:after\": {\n      padding: \"0 4px\",\n      content: \"''\"\n    }\n  }),\n\n  upload: nano.rule({\n    display: \"inline-block\",\n    cursor: \"pointer\",\n    background: \"white\",\n    border: \"1px solid black\",\n    borderRadius: \"4px\",\n    padding: \"4px 20px\",\n    marginBottom: \"10px\"\n  }),\n\n  hidden: nano.rule({\n    display: \"none\"\n  })\n};\n\nexport default function CartSelect(props: {\n  startName: string;\n  debug?: boolean;\n}) {\n  const { fd } = React.useContext(FD.Context);\n  const [choosing, setChoosing] = React.useState(false);\n  const [name, setName] = React.useState(props.startName);\n\n  const selectCart = React.useCallback(\n    (name: string, data: Uint8Array) => {\n      setChoosing(false);\n      fd.init(data);\n      setName(name);\n    },\n    [fd]\n  );\n\n  type LinkClicked = React.MouseEventHandler<HTMLAnchorElement>;\n  const downloadCart = React.useCallback<LinkClicked>(async event => {\n    event.preventDefault();\n    const link = event.currentTarget;\n    const resp = await fetch(link.href);\n    if (!resp.ok) {\n      throw resp;\n    }\n\n    const data = new Uint8Array(await resp.arrayBuffer());\n    selectCart(link.text, data);\n  }, []);\n\n  type FileChanged = React.ChangeEventHandler<HTMLInputElement>;\n  const onFile = React.useCallback<FileChanged>(async event => {\n    const file = event.currentTarget.files[0] as File;\n    const data = new Uint8Array(await readAsArray(file));\n    selectCart(file.name, data);\n  }, []);\n\n  const carts = props.debug ? DEBUG_ROMS.blargg : ROMS;\n\n  return (\n    <div className={CSS.root}>\n      <button className={CSS.toggler} onClick={() => setChoosing(!choosing)}>\n        {name}\n      </button>\n\n      <div\n        className={cx(CSS.backdrop, choosing && \"active\")}\n        onClick={() => setChoosing(false)}\n      />\n\n      <div className={cx(CSS.selector, choosing && \"active\")}>\n        <h3 className={CSS.prompt}>try one of these games</h3>\n        <div className={cx(CSS.selectorList, choosing && \"active\")}>\n          {mapObject(carts, (value, name) => (\n            <a key={name} href={value} onClick={downloadCart}>\n              {name}\n            </a>\n          ))}\n        </div>\n\n        <h3 className={CSS.prompt}>or</h3>\n        <label className={CSS.upload}>\n          <span>Upload a ROM</span>\n          <input\n            className={CSS.hidden}\n            type=\"file\"\n            onChange={onFile}\n            onClick={event => (event.currentTarget.value = \"\")}\n          />\n        </label>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport cx from \"classnames\";\nimport useEvent from \"react-use/lib/useEvent\";\n\nimport nano from \"./nano\";\n\nimport FundudeWasm, { Input } from \"../wasm\";\n\nconst CSS = {\n  root: nano.rule({\n    paddingTop: \"90px\",\n    display: \"flex\",\n    flex: \"1\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    touchAction: \"none\"\n  }),\n\n  button: nano.rule({\n    display: \"inline-block\",\n    background: \"#082A08\",\n    boxShadow: \"inset 0 0 2px 2px #082A08\",\n    border: \"none\",\n    color: \"white\",\n    fontFamily: \"Helvetica, Arial, sans-serif\",\n    fontSize: \"24px\",\n\n    \"&.pressed\": {\n      background: \"white\",\n      color: \"#082A08\"\n    }\n  }),\n\n  dpad: {\n    base: nano.rule({\n      position: \"relative\",\n      width: \"90px\",\n      height: \"90px\"\n    }),\n    direction: nano.rule({\n      position: \"absolute\",\n      height: \"33.3333%\",\n      width: \"33.3333%\"\n    }),\n    up: nano.rule({ left: \"33.3333%\", top: 0 }),\n    down: nano.rule({ left: \"33.3333%\", bottom: 0 }),\n    left: nano.rule({ left: 0, top: \"33.3333%\" }),\n    right: nano.rule({ right: 0, top: \"33.3333%\" })\n  },\n\n  buttons: {\n    center: nano.rule({ alignSelf: \"flexEnd\" }),\n    select: nano.rule({ width: \"50px\", fontSize: \"12px\", margin: \"0 2px\" }),\n    start: nano.rule({ width: \"50px\", fontSize: \"12px\", margin: \"0 2px\" }),\n\n    base: nano.rule({}),\n    a: nano.rule({ width: \"40px\", height: \"40px\", margin: \"0 2px\", borderRadius: \"100%\" }),\n    b: nano.rule({ width: \"40px\", height: \"40px\", margin: \"0 2px\", borderRadius: \"100%\" }),\n  }\n};\n\nconst INITIAL_STATE = {\n  up: false,\n  down: false,\n  left: false,\n  right: false,\n\n  select: false,\n  start: false,\n  a: false,\n  b: false\n};\n\nconst KEY_MAP: Record<string, Input> = {\n  KeyW: \"up\",\n  KeyD: \"right\",\n  KeyS: \"down\",\n  KeyA: \"left\",\n\n  ArrowUp: \"up\",\n  ArrowRight: \"right\",\n  ArrowDown: \"down\",\n  ArrowLeft: \"left\",\n\n  Backspace: \"select\",\n  Backslash: \"select\",\n  Enter: \"start\",\n\n  KeyN: \"select\",\n  KeyM: \"start\",\n  Comma: \"b\",\n  Period: \"a\",\n\n  KeyO: \"select\",\n  KeyP: \"start\",\n  BracketLeft: \"b\",\n  BracketRight: \"a\"\n};\n\nexport default function Controller(props: { fd: FundudeWasm }) {\n  const [inputs, setInputs] = React.useState(INITIAL_STATE);\n  const [clicking, setClicking] = React.useState(false);\n\n  function handleMouseDown(event: React.MouseEvent<HTMLButtonElement>) {\n    setClicking(true);\n    setInputs(props.fd.inputPress(event.currentTarget.value as any));\n  }\n\n  function handleMouseEnter(event: React.MouseEvent<HTMLButtonElement>) {\n    if (!clicking) {\n      return;\n    }\n    event.currentTarget.focus();\n    setInputs(props.fd.inputPress(event.currentTarget.value as any));\n  }\n\n  function handleMouseLeave(event: React.MouseEvent<HTMLButtonElement>) {\n    if (!clicking) {\n      return;\n    }\n    event.currentTarget.blur();\n    setInputs(props.fd.inputRelease(event.currentTarget.value as any));\n  }\n\n  useEvent(\"mouseup\", (event: React.MouseEvent<HTMLButtonElement>) => {\n    if (!clicking) {\n      return;\n    }\n    setClicking(false);\n    event.currentTarget.blur();\n    setInputs(props.fd.inputReleaseAll());\n  });\n\n  function handleTouch(event: React.TouchEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    setInputs(props.fd.inputPress(event.currentTarget.value as any));\n  }\n\n  function handleUntouch(event: React.TouchEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    setInputs(props.fd.inputRelease(event.currentTarget.value as any));\n  }\n\n  useEvent(\"keydown\", (event: KeyboardEvent) => {\n    if (event.target.nodeName == \"INPUT\") {\n      return;\n    }\n\n    const input = KEY_MAP[event.code];\n    if (input) {\n      event.preventDefault();\n      setInputs(props.fd.inputPress(input));\n    }\n  });\n  useEvent(\"keyup\", (event: KeyboardEvent) => {\n    if (event.target.nodeName == \"INPUT\") {\n      return;\n    }\n\n    const input = KEY_MAP[event.code];\n    if (input) {\n      event.preventDefault();\n      setInputs(props.fd.inputRelease(input));\n    }\n  });\n\n  function Button(props: {\n    value: Input;\n    className: string;\n    children?: string;\n  }) {\n    return (\n      <button\n        value={props.value}\n        className={cx(CSS.button, props.className, {\n          pressed: inputs[props.value]\n        })}\n        onMouseDown={handleMouseDown}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        onTouchStart={handleTouch}\n        onTouchEnd={handleUntouch}\n      >\n        {props.children}\n      </button>\n    );\n  }\n\n  return (\n    <div className={CSS.root}>\n      <div className={CSS.dpad.base}>\n        <Button value=\"up\" className={cx(CSS.dpad.direction, CSS.dpad.up)} />\n        <Button\n          value=\"down\"\n          className={cx(CSS.dpad.direction, CSS.dpad.down)}\n        />\n        <Button\n          value=\"left\"\n          className={cx(CSS.dpad.direction, CSS.dpad.left)}\n        />\n        <Button\n          value=\"right\"\n          className={cx(CSS.dpad.direction, CSS.dpad.right)}\n        />\n      </div>\n\n      <div className={CSS.buttons.center}>\n        <Button value=\"select\" className={CSS.buttons.select}>\n          Select\n        </Button>\n        <Button value=\"start\" className={CSS.buttons.start}>\n          Start\n        </Button>\n      </div>\n\n      <div className={CSS.buttons.base}>\n        <Button value=\"b\" className={CSS.buttons.b}>\n          B\n        </Button>\n        <Button value=\"a\" className={CSS.buttons.a}>\n          A\n        </Button>\n      </div>\n    </div>\n  );\n}\n","function asCart(hexString: string): Uint8Array {\n  const result = new Uint8Array(32 * 1024);\n  hexString\n    .replace(/\\s+/g, \"\")\n    .match(/.{1,2}/g)!\n    .forEach((s, i) => {\n      result[i] = parseInt(s, 16);\n    });\n  return result;\n}\n\nexport const BOOTLOADER = asCart(`\n31 FE FF AF 21 FF 9F 32 CB 7C 20 FB 21 26 FF 0E\n11 3E 80 32 E2 0C 3E F3 E2 32 3E 77 77 3E FC E0\n47 11 04 01 21 10 80 1A CD 95 00 CD 96 00 13 7B\nFE 34 20 F3 11 D8 00 06 08 1A 13 22 23 05 20 F9\n3E 19 EA 10 99 21 2F 99 0E 0C 3D 28 08 32 0D 20\nF9 2E 0F 18 F3 67 3E 64 57 E0 42 3E 91 E0 40 04\n1E 02 0E 0C F0 44 FE 90 20 FA 0D 20 F7 1D 20 F2\n0E 13 24 7C 1E 83 FE 62 28 06 1E C1 FE 64 20 06\n7B E2 0C 3E 87 E2 F0 42 90 E0 42 15 20 D2 05 20\n4F 16 20 18 CB 4F 06 04 C5 CB 11 17 C1 CB 11 17\n05 20 F5 22 23 22 23 C9 CE ED 66 66 CC 0D 00 0B\n03 73 00 83 00 0C 00 0D 00 08 11 1F 88 89 00 0E\nDC CC 6E E6 DD DD D9 99 BB BB 67 63 6E 0E EC CC\nDD DC 99 9F BB B9 33 3E 3C 42 B9 A5 B9 A5 42 3C\n21 04 01 11 A8 00 1A 13 BE 20 FE 23 7D FE 34 20\nF5 06 19 78 86 23 05 20 FB 86 20 FE 3E 01 E0 50\n\n00 00 00 00\n\nFF CF 66 66 DD DD 99 DF 88 8B 0C C3 77 66 9D DD\nBB BB 77 66 9D DD EE 8E FC CC 66 73 DD D9 B9 99\nB8 88 3C C0 66 77 DD D8 BB FE 66 77 DD D9 E8 EE\n`);\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M38.81.27L37.4 8.96H20.54l-1.72 10.58h14.27l-1.37 8.72H17.4L14.13 49H.58L8.33.27H38.8zm52.67 0l-4.15 29.78c-.6 4.31-1.94 7.93-4.05 10.86a19.35 19.35 0 01-8.13 6.56 28.05 28.05 0 01-11.29 2.16c-5.61 0-10.1-.98-13.46-2.95-3.35-1.97-5.7-4.32-7.04-7.07a17.99 17.99 0 01-2.02-7.9c0-2.1.22-4.5.65-7.25L45.5.27h11.9l-3.58 25.46c-.2 1.26-.3 2.5-.3 3.69 0 2.65.73 4.86 2.2 6.62 1.46 1.77 4.15 2.66 8.07 2.66 1.99 0 3.77-.32 5.35-.97a9.44 9.44 0 004.05-3.27c1.13-1.53 1.9-3.6 2.3-6.2L79.6.27h11.9zm55.84 0L140.04 49h-11.6l-19.06-29.32L104.92 49H92.5L99.7.27h11.68l19.09 29.29 4.4-29.29h12.44zm16.93 28.68v-10h-10v10h10zm56.65-4.8c0 5.4-1.03 9.96-3.1 13.64a19.81 19.81 0 01-9.19 8.36c-4.07 1.9-9.1 2.85-15.1 2.85h-22.46l7-48.73h17.92c4.24 0 7.95.64 11.13 1.9a20.9 20.9 0 017.82 5.24 21.4 21.4 0 014.52 7.61 28.04 28.04 0 011.46 9.12zm-12.7.17c0-2.44-.46-4.8-1.38-7.1a12.65 12.65 0 00-5.12-5.85c-2.48-1.61-5.93-2.41-10.33-2.41h-2l-4.54 31.32h6.54c3.11 0 5.8-.47 8.03-1.4a13.29 13.29 0 008-8.83c.54-1.83.8-3.74.8-5.73zM275.73.27l-4.16 29.78c-.58 4.31-1.93 7.93-4.04 10.86a19.35 19.35 0 01-8.13 6.56 28.05 28.05 0 01-11.3 2.16c-5.6 0-10.09-.98-13.45-2.95-3.36-1.97-5.7-4.32-7.05-7.07a17.99 17.99 0 01-2-7.9c0-2.1.2-4.5.63-7.25L229.74.27h11.9l-3.58 25.46c-.2 1.26-.3 2.5-.3 3.69 0 2.65.73 4.86 2.2 6.62 1.46 1.77 4.15 2.66 8.07 2.66 1.99 0 3.77-.32 5.34-.97a9.44 9.44 0 004.06-3.27c1.13-1.53 1.9-3.6 2.3-6.2l4.1-27.99h11.9zm50.88 23.87c0 5.42-1.03 9.97-3.1 13.65a19.81 19.81 0 01-9.19 8.36c-4.07 1.9-9.1 2.85-15.1 2.85h-22.46l7-48.73h17.92c4.24 0 7.95.64 11.13 1.9a20.9 20.9 0 017.82 5.24 21.4 21.4 0 014.52 7.61 28.04 28.04 0 011.46 9.12zm-12.7.18c0-2.44-.46-4.8-1.38-7.1a12.65 12.65 0 00-5.12-5.85c-2.48-1.61-5.93-2.41-10.33-2.41h-2l-4.54 31.32h6.54c3.11 0 5.8-.47 8.03-1.4a13.29 13.29 0 008-8.83c.54-1.83.8-3.74.8-5.73zm-140.48 4.67h-8.74v9.96h-10.82V29h-10.33l1.51-10.12h8.82V8.95h10.78v9.92h10.24l-1.46 10.12zM367.95.27l-1.23 8.69H347l-1.52 10.58h17.13l-1.24 8.72h-17.26l-1.65 12.02h23.98L365.2 49h-36.53L335.75.27h32.2z\"\n});\n\nconst SvgLogo = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  width: 552,\n  height: 75,\n  viewBox: \"0 0 368 50\"\n}, props), _ref);\n\nexport default SvgLogo;","import React from \"react\";\n\nimport FD from \"../wasm/react\";\nimport nano from \"./nano\";\n\nimport Display from \"./Display\";\nimport CartSelect from \"./CartSelect\";\nimport Controller from \"./Controller\";\nimport { BOOTLOADER } from \"./data\";\n\nconst LazyDebug = {\n  Left: React.lazy(() =>\n    import(\"./Debug\").then((mod) => ({ default: mod.Left }))\n  ),\n  Right: React.lazy(() =>\n    import(\"./Debug\").then((mod) => ({ default: mod.Right }))\n  ),\n};\n\n//@ts-ignore\nimport Logo from \"./logo.svg\";\n\nconst CSS = {\n  root: nano.rule({\n    overflow: \"hidden\",\n    width: \"100vw\",\n    height: \"100vh\",\n    display: \"flex\",\n    justifyContent: \"center\",\n  }),\n\n  app: nano.rule({\n    marginTop: \"4px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  }),\n\n  shell: nano.rule({\n    padding: \"20px 16px\",\n    background: \"#f5f5dc\",\n    boxShadow: \"inset 0 0 0 4px rgba(32, 32, 32, 0.5)\",\n    borderRadius: \"8px 8px 40px 40px\",\n  }),\n\n  displayWrapper: nano.rule({\n    backgroundColor: \"#606060\",\n    padding: \"20px 50px 0\",\n    borderRadius: \"8px\",\n  }),\n\n  display: nano.rule({\n    maxWidth: \"100vw\",\n    background: \"#b1c062\",\n  }),\n\n  title: nano.rule({\n    position: \"relative\",\n    textTransform: \"uppercase\",\n    fontFamily: \"'Gill Sans', Verdana, sans-serif\",\n    fontWeight: \"bold\",\n    fontStyle: \"italic\",\n    letterSpacing: \"-0.06em\",\n    color: \"transparent\",\n  }),\n\n  titleSymbol: nano.rule({\n    fontSize: \"0.5em\",\n    verticalAlign: \"middle\",\n  }),\n\n  logo: nano.rule({\n    color: \"white\",\n    position: \"absolute\",\n    top: \"20%\",\n    width: \"auto\",\n    height: \"59%\",\n    pointerEvents: \"none\",\n  }),\n\n  controls: nano.rule({\n    height: \"300px\",\n    width: \"324px\",\n    margin: \"0 auto\",\n  }),\n};\n\nexport function App(props: { debug?: boolean }) {\n  const { fd } = React.useContext(FD.Context);\n\n  return (\n    <div className={CSS.app}>\n      <CartSelect startName=\"{insert cart}\" debug={props.debug} />\n      <div className={CSS.shell}>\n        <div className={CSS.displayWrapper}>\n          <Display\n            className={CSS.display}\n            pixels={() => fd.screen()}\n            signal={fd.changed}\n            scale={2}\n            blend\n          />\n          <h1 className={CSS.title}>\n            <Logo className={CSS.logo} />\n            FUN\n            <i className={CSS.titleSymbol}>&#10012;</i>\n            DUDE\n          </h1>\n        </div>\n        <div className={CSS.controls}>\n          <Controller fd={fd} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function (props: { debug?: boolean }) {\n  return (\n    <FD.Provider bootCart={BOOTLOADER} autoBoot={!props.debug}>\n      <div className={CSS.root}>\n        <React.Suspense fallback={<div />}>\n          {props.debug && <LazyDebug.Left />}\n        </React.Suspense>\n        <App debug={props.debug} />\n        <React.Suspense fallback={<div />}>\n          {props.debug && <LazyDebug.Right />}\n        </React.Suspense>\n      </div>\n    </FD.Provider>\n  );\n}\n","import React from \"react\";\nimport nano from \"./nano\";\n\nconst CSS = {\n  topright: nano.rule({\n    position: \"fixed\",\n    right: \"10px\",\n    maxWidth: \"200px\"\n  }),\n\n  item: nano.rule({\n    marginTop: \"10px\",\n    border: \"1px solid black\",\n    padding: \"10px\",\n    borderRadius: \"4px\"\n  })\n};\n\ninterface Toast {\n  title: string;\n  body: React.ReactNode;\n}\n\ninterface Toaster {\n  toasts: Toast[];\n  add: (toast: Toast) => any;\n}\n\nexport const Context = React.createContext<Toaster>(null!);\n\ninterface Props {\n  show?: \"topright\";\n  children: React.ReactNode;\n}\n\ninterface State {\n  toasts: Toast[];\n  fatal: boolean;\n}\n\nexport class Provider extends React.Component<Props, State> {\n  constructor(props) {\n    super(props);\n\n    this.add = this.add.bind(this);\n    this.error = this.error.bind(this);\n\n    this.state = {\n      toasts: [],\n      fatal: false\n    };\n  }\n\n  componentDidCatch(error: Error) {\n    this.setState({ fatal: true });\n    this.add({ title: \"Fatal\", body: error.message || error });\n    console.error(error);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"error\", event => {\n      this.error(event.message);\n    });\n    window.addEventListener(\"unhandledrejection\", event => {\n      this.error(event.reason);\n    });\n  }\n\n  add(toast: Toast) {\n    this.setState(({ toasts }) => ({\n      toasts: [...toasts, toast]\n    }));\n  }\n\n  error(err: Error | string) {\n    this.add({ title: \"Error\", body: err.message || err });\n  }\n\n  render() {\n    return (\n      <Context.Provider\n        value={{\n          toasts: this.state.toasts,\n          add: this.add\n        }}\n      >\n        {this.props.show && (\n          <div className={CSS[this.props.show]}>\n            {this.state.toasts.map((toast, i) => (\n              <div key={i} className={CSS.item}>\n                <h3>{toast.title}</h3>\n                <div>{toast.body}</div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {!this.state.fatal && this.props.children}\n      </Context.Provider>\n    );\n  }\n}\n\nexport default { Context, Provider };\n","import React from \"react\";\nimport useEvent from \"react-use/lib/useEvent\";\n\nimport nano from \"./nano\";\n\nimport App from \"./App\";\nimport Toaster from \"./Toaster\";\n\nnano.putMany({\n  \"*\": {\n    boxSizing: \"border-box\",\n    fontFamily: \"inherit\",\n    margin: 0\n  },\n  html: {\n    touchAction: \"manipulation\"\n  },\n  input: {\n    maxWidth: \"100%\"\n  },\n  button: {\n    cursor: \"pointer\"\n  }\n});\n\nconst CSS = {\n  github: nano.rule({\n    fontFamily: \"Helvetica, 'Open Sans', Arial, sans-serif\",\n    fontWeight: 600,\n    position: \"fixed\",\n    left: \"-50px\",\n    top: \"40px\",\n    padding: \"10px 40px\",\n    transform: \"rotate(-45deg)\",\n    background: \"rgba(15, 56, 15, .3333)\",\n    boxShadow: \"0 0 2px currentColor\",\n    color: \"rgb(15, 56, 15)\",\n    textDecoration: \"none\",\n    transition: \"200ms ease box-shadow\",\n\n    \":hover\": {\n      boxShadow: \"0 0 5px 1px currentColor\"\n    }\n  })\n};\n\nexport default function Page() {\n  const [debug, setDebug] = React.useState(\n    window.location.hash.includes(\"debug\")\n  );\n  useEvent(\"hashchange\", () =>\n    setDebug(window.location.hash.includes(\"debug\"))\n  );\n\n  return (\n    <Toaster.Provider show=\"topright\">\n      <a\n        className={CSS.github}\n        href=\"https://github.com/fengb/fundude\"\n        target=\"_blank\"\n      >\n        Fork me on Github\n      </a>\n      <App debug={debug} />\n    </Toaster.Provider>\n  );\n}\n","import \"preact/debug\";\nimport { h, render, hydrate } from \"preact\";\nimport Page from \"./Page\";\n\nconst container = document.getElementById('app');\nconst r = container.hasChildNodes() ? hydrate : render;\nr(h(Page), container);\n","module.exports = function loadWASMBundle(bundle) {\n  return fetch(bundle)\n    .then(function (res) {\n      if (WebAssembly.instantiateStreaming) {\n        return WebAssembly.instantiateStreaming(res);\n      } else {\n        return res.arrayBuffer()\n          .then(function (data) {\n            return WebAssembly.instantiate(data);\n          });\n      }\n    })\n    .then(function (wasmModule) {\n      return wasmModule.instance.exports;\n    });\n};\n","module.exports = function loadJSBundle(bundle) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.charset = 'utf-8';\n    script.src = bundle;\n    script.onerror = function (e) {\n      script.onerror = script.onload = null;\n      reject(e);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n};\n"]}